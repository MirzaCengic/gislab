<ons-page ng-controller="LegendController" class="legend-panel flex-container-vertical">
	<div class="panel-header" ng-if="$storage.showHeader">
		<div class="center"><span>{{ ['Legend', 'Properties'][app.legend.carousel._lastActiveIndex] }}</span></div>
	</div>
	<ons-carousel var="app.legend.carousel" class="vertical-flexible" swipeable auto-scroll>
		<ons-carousel-item>
			<ons-scroller class="main-panel-content">
				<div class="legend-container">
					<img class="legend-item" ng-repeat="layer in ::layers.list" ng-if="layer.visible" ng-src="{{ layer.legendUrl }}" />
				</div>
			</ons-scroller>
		</ons-carousel-item>
		<ons-carousel-item>
			<ons-scroller>
				<ons-list class="about">
					<ons-list-item class="list__item--info-content">
						<label>Title:</label>
						<span ng-bind="::project.root_title"></span>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>Author:</label>
						<span ng-bind="::project.author"></span>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>E-mail:</label>
						<span ng-bind="::project.email"></span>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>Phone:</label>
						<span ng-bind="::project.phone"></span>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>Organization:</label>
						<span ng-bind="::project.organization"></span>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>Abstract:</label>
						<span ng-bind="::project.abstract"></span>
					</ons-list-item>
					<ons-list-item modifier="tappable" class="list__item--info-content" gl-open-in-browser="{{ ::project.online_resource }}">
						<label>Online resource</label>
						<div class="list-button-right">
							<svg class="list-item-icon center-vertical">
								<use xlink:href="#icon-link-external"></use>
							</svg>
						</div>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>Fees:</label>
						<span ng-bind="::project.fees"></span>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>Access constraints:</label>
						<span ng-bind="::project.access_constrains"></span>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>Keywords list:</label>
						<span>{{ ::project.keyword_list.join(', ') }}</span>
					</ons-list-item>
					<ons-list-item class="list__item--info-content">
						<label>Publish date:</label>
						<span ng-bind="::project.publish_date"></span>
					</ons-list-item>
				</ons-list>
			</ons-scroller>
		</ons-carousel-item>
	</ons-carousel>

	<div class="vertical-fit">
		<gl-carousel-tab-slider gl-tab-model="ui.tools_settings_tab" gl-carousel="app.legend.carousel"></gl-carousel-tab-slider>
		<div class="tab-bar tab-bar--bottom">
			<label class="tab-bar__item border-right">
				<input type="radio" name="settings-tab-radio" value="0" ng-model="ui.tools_settings_tab">
				<button class="tab-bar__button">
					<svg class="icon">
						<use xlink:href="#icon-legend"></use>
					</svg>
				</button>
			</label>

			<label class="tab-bar__item">
				<input type="radio" name="settings-tab-radio" value="1" ng-model="ui.tools_settings_tab">
				<button class="tab-bar__button">
					<svg class="icon">
						<use xlink:href="#icon-help"></use>
					</svg>
				</button>
			</label>
		</div>
	</div>
</ons-page>
