# Install GIS.lab client desktop customizations.

case "$MODE" in
    finalization)
	# xfce desktop
	cp $GISLAB_INSTALL_CLIENT_ROOT/desktop/xfce/xfce4-desktop.xml $ROOT/etc/xdg/xdg-xubuntu/xfce4/xfconf/xfce-perchannel-xml/xfce4-desktop.xml

	# menu
	cp $GISLAB_INSTALL_CLIENT_ROOT/desktop/menu/xfce-applications.menu $ROOT/etc/xdg/xdg-xubuntu/menus/xfce-applications.menu
	cp $GISLAB_INSTALL_CLIENT_ROOT/desktop/menu/applications/* $ROOT/usr/share/applications/
	cp $GISLAB_INSTALL_CLIENT_ROOT/desktop/menu/directories/* $ROOT/usr/share/desktop-directories/

	# panel
	cp $GISLAB_INSTALL_CLIENT_ROOT/desktop/panel/default.xml $ROOT/etc/xdg/xdg-xubuntu/xfce4/panel/default.xml

	# theme
	# Xubuntu Greybird theme originally provides very thin window borders, which are very
	# difficult to grab and resize. This is fixed version of Greybird (taken from OSGeo Live CD)
	cp $GISLAB_INSTALL_CLIENT_ROOT/desktop/themes/greybird/* $ROOT/usr/share/themes/Greybird/xfwm4/

	# wallpaper
	cp $GISLAB_INSTALL_CLIENT_ROOT/desktop/wallpapers/gislab-wallpaper.png $ROOT/usr/share/xfce4/backdrops/gislab-wallpaper.png
	
	# icons
	cp $GISLAB_INSTALL_CLIENT_ROOT/desktop/icons/gislab-web.xpm $ROOT/usr/share/pixmaps/gislab-web.xpm
    ;;
esac
